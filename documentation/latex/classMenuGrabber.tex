\hypertarget{classMenuGrabber}{\section{Menu\-Grabber Class Reference}
\label{classMenuGrabber}\index{Menu\-Grabber@{Menu\-Grabber}}
}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMenuGrabber_ac95c640a95578eae70e354372f706528}{\-\_\-\-\_\-construct} ()
\item 
\hyperlink{classMenuGrabber_a82affc87b1f73fcf57f0dd6a0be20bdb}{get\-Domain\-Menus} (\$domains)
\item 
\hyperlink{classMenuGrabber_aacc8b06427fda409f2385d5ff189509a}{delete\-Domain} (\$domain)
\item 
\hyperlink{classMenuGrabber_a90913d8567536c5e277d6dad66b306bf}{delete\-Many\-Domains} (\$domains)
\item 
\hyperlink{classMenuGrabber_a55274935e94d4e811f592a28ee62da9a}{get\-Menu\-Label\-Weights} ()
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classMenuGrabber_a837c936f2e2df191018092e2745dd5f9}{get\-Ranked\-Menus\-From\-U\-R\-L} (\$url)
\item 
\hyperlink{classMenuGrabber_a44023dd73d16f03c6a15bf1d6228491f}{get\-Ranked\-Menus\-From\-Many\-U\-R\-Ls} (\$urls)
\item 
\hyperlink{classMenuGrabber_acbbe3d83251aa6f0f5c1d5a073818f4a}{retrieve\-Domain\-Menus\-From\-Database} (\$domain)
\item 
\hyperlink{classMenuGrabber_a0fa3d0bdd671df3fe2b3c18907a7a1a1}{retrieve\-Many\-Domain\-Menus\-From\-Database} (\$domains)
\item 
\hyperlink{classMenuGrabber_a0b613eb7bef68287d68b2eff4867071e}{insert\-Domains\-With\-Menus} (\$domain\-Info)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The Menu Grabber attempts to grab possible menus from a given webpage or webpages. It then scores each possible menu according to the predefined label weights in the database. The results are returned to the caller.

Menus are determined by two methods\-: 1) Unordered lists and 2) Elements that have an equal amount of anchors and divs in them.

Results are automatically stored in the database and cached results given when applicable.

This class requires the \hyperlink{classMySQLDatabase}{My\-S\-Q\-L\-Database} global \$database to be instantiated. 

\subsection{Constructor \& Destructor Documentation}
\hypertarget{classMenuGrabber_ac95c640a95578eae70e354372f706528}{\index{Menu\-Grabber@{Menu\-Grabber}!\-\_\-\-\_\-construct@{\-\_\-\-\_\-construct}}
\index{\-\_\-\-\_\-construct@{\-\_\-\-\_\-construct}!MenuGrabber@{Menu\-Grabber}}
\subsubsection[{\-\_\-\-\_\-construct}]{\setlength{\rightskip}{0pt plus 5cm}Menu\-Grabber\-::\-\_\-\-\_\-construct (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classMenuGrabber_ac95c640a95578eae70e354372f706528}
Instantiates class and grabs the menu label weights from the database.

This class requires the \hyperlink{classMySQLDatabase}{My\-S\-Q\-L\-Database} global \$database to be instantiated. 

\subsection{Member Function Documentation}
\hypertarget{classMenuGrabber_aacc8b06427fda409f2385d5ff189509a}{\index{Menu\-Grabber@{Menu\-Grabber}!delete\-Domain@{delete\-Domain}}
\index{delete\-Domain@{delete\-Domain}!MenuGrabber@{Menu\-Grabber}}
\subsubsection[{delete\-Domain}]{\setlength{\rightskip}{0pt plus 5cm}Menu\-Grabber\-::delete\-Domain (
\begin{DoxyParamCaption}
\item[{}]{\$domain}
\end{DoxyParamCaption}
)}}\label{classMenuGrabber_aacc8b06427fda409f2385d5ff189509a}
Deletes the single domain, all of its menus, and all of the menu items.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$domain} & Domain to delete (with all its menus and menu items) \\
\hline
\end{DoxyParams}
\hypertarget{classMenuGrabber_a90913d8567536c5e277d6dad66b306bf}{\index{Menu\-Grabber@{Menu\-Grabber}!delete\-Many\-Domains@{delete\-Many\-Domains}}
\index{delete\-Many\-Domains@{delete\-Many\-Domains}!MenuGrabber@{Menu\-Grabber}}
\subsubsection[{delete\-Many\-Domains}]{\setlength{\rightskip}{0pt plus 5cm}Menu\-Grabber\-::delete\-Many\-Domains (
\begin{DoxyParamCaption}
\item[{}]{\$domains}
\end{DoxyParamCaption}
)}}\label{classMenuGrabber_a90913d8567536c5e277d6dad66b306bf}
Deletes the domains, all of their menus, and all of the menu items.


\begin{DoxyParams}[1]{Parameters}
array & {\em \$domains} & Array of domains to delete (with all their menus and menu items) \\
\hline
\end{DoxyParams}
\hypertarget{classMenuGrabber_a82affc87b1f73fcf57f0dd6a0be20bdb}{\index{Menu\-Grabber@{Menu\-Grabber}!get\-Domain\-Menus@{get\-Domain\-Menus}}
\index{get\-Domain\-Menus@{get\-Domain\-Menus}!MenuGrabber@{Menu\-Grabber}}
\subsubsection[{get\-Domain\-Menus}]{\setlength{\rightskip}{0pt plus 5cm}Menu\-Grabber\-::get\-Domain\-Menus (
\begin{DoxyParamCaption}
\item[{}]{\$domains}
\end{DoxyParamCaption}
)}}\label{classMenuGrabber_a82affc87b1f73fcf57f0dd6a0be20bdb}
Returns a list of ranked menus sorted from highest score to lowest.

The returned array consists for each key of associated arrays with two keys\-: 'score' pointing to the numeric score of the menu and 'items' for the menu itself. The 'items' points to an array of items. Each item is an associative array as 'label' pointing to an individual label and 'url' pointing to that label's link.

The key of the top-\/most array is the U\-R\-L string.

Array\mbox{[}url\mbox{]} -\/$>$ 'score' =$>$ 12 -\/$>$ 'items' =$>$ Array -\/$>$ 'label' -\/$>$ 'url'

On failure, N\-U\-L\-L is returned.


\begin{DoxyParams}[1]{Parameters}
mixed & {\em \$domains} & String or array of the domains to get menus for \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em mixed} & Array of ranked menus or N\-U\-L\-L on failure \\
\hline
\end{DoxyRetVals}
\hypertarget{classMenuGrabber_a55274935e94d4e811f592a28ee62da9a}{\index{Menu\-Grabber@{Menu\-Grabber}!get\-Menu\-Label\-Weights@{get\-Menu\-Label\-Weights}}
\index{get\-Menu\-Label\-Weights@{get\-Menu\-Label\-Weights}!MenuGrabber@{Menu\-Grabber}}
\subsubsection[{get\-Menu\-Label\-Weights}]{\setlength{\rightskip}{0pt plus 5cm}Menu\-Grabber\-::get\-Menu\-Label\-Weights (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{classMenuGrabber_a55274935e94d4e811f592a28ee62da9a}
Returns the array of menu labels and their weights

\begin{DoxyReturn}{Returns}
mixed Associative array of labels pointing to their weights 
\end{DoxyReturn}
\hypertarget{classMenuGrabber_a44023dd73d16f03c6a15bf1d6228491f}{\index{Menu\-Grabber@{Menu\-Grabber}!get\-Ranked\-Menus\-From\-Many\-U\-R\-Ls@{get\-Ranked\-Menus\-From\-Many\-U\-R\-Ls}}
\index{get\-Ranked\-Menus\-From\-Many\-U\-R\-Ls@{get\-Ranked\-Menus\-From\-Many\-U\-R\-Ls}!MenuGrabber@{Menu\-Grabber}}
\subsubsection[{get\-Ranked\-Menus\-From\-Many\-U\-R\-Ls}]{\setlength{\rightskip}{0pt plus 5cm}Menu\-Grabber\-::get\-Ranked\-Menus\-From\-Many\-U\-R\-Ls (
\begin{DoxyParamCaption}
\item[{}]{\$urls}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classMenuGrabber_a44023dd73d16f03c6a15bf1d6228491f}
Returns a list of ranked menus sorted from highest score to lowest from many U\-R\-Ls.

The returned array consists for each key of associated arrays with two keys\-: 'score' pointing to the numeric score of the menu and 'items' for the menu itself. The 'items' points to an array of items. Each item is an associative array as 'label' pointing to an individual label and 'url' pointing to that label's link.

The key of the top-\/most array is the U\-R\-L string.

Array\mbox{[}url\mbox{]} -\/$>$ 'score' =$>$ 12 -\/$>$ 'items' =$>$ Array -\/$>$ 'label' -\/$>$ 'url'

On failure, N\-U\-L\-L is returned.


\begin{DoxyParams}[1]{Parameters}
array & {\em \$urls} & U\-R\-Ls to get menus from \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em mixed} & Array of ranked menus or N\-U\-L\-L on failure \\
\hline
\end{DoxyRetVals}
\hypertarget{classMenuGrabber_a837c936f2e2df191018092e2745dd5f9}{\index{Menu\-Grabber@{Menu\-Grabber}!get\-Ranked\-Menus\-From\-U\-R\-L@{get\-Ranked\-Menus\-From\-U\-R\-L}}
\index{get\-Ranked\-Menus\-From\-U\-R\-L@{get\-Ranked\-Menus\-From\-U\-R\-L}!MenuGrabber@{Menu\-Grabber}}
\subsubsection[{get\-Ranked\-Menus\-From\-U\-R\-L}]{\setlength{\rightskip}{0pt plus 5cm}Menu\-Grabber\-::get\-Ranked\-Menus\-From\-U\-R\-L (
\begin{DoxyParamCaption}
\item[{}]{\$url}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classMenuGrabber_a837c936f2e2df191018092e2745dd5f9}
Returns a list of ranked possible menus sorted from highest score to lowest.

The returned object consists of an array of associated arrays with two keys\-: 'score' pointing to the numeric score of the menu and 'items' for the menu itself. The 'items' points to an array of items. Each item is an associative array as 'label' pointing to an individual label and 'url' pointing to that label's link.

Array-\/$>$ 'score' =$>$ 12 -\/$>$ 'items' =$>$ Array -\/$>$ 'label' -\/$>$ 'url'

On failure, N\-U\-L\-L is returned.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$url} & U\-R\-L to get menus from \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em mixed} & Array of ranked menus or N\-U\-L\-L on failure \\
\hline
\end{DoxyRetVals}
\hypertarget{classMenuGrabber_a0b613eb7bef68287d68b2eff4867071e}{\index{Menu\-Grabber@{Menu\-Grabber}!insert\-Domains\-With\-Menus@{insert\-Domains\-With\-Menus}}
\index{insert\-Domains\-With\-Menus@{insert\-Domains\-With\-Menus}!MenuGrabber@{Menu\-Grabber}}
\subsubsection[{insert\-Domains\-With\-Menus}]{\setlength{\rightskip}{0pt plus 5cm}Menu\-Grabber\-::insert\-Domains\-With\-Menus (
\begin{DoxyParamCaption}
\item[{}]{\$domain\-Info}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classMenuGrabber_a0b613eb7bef68287d68b2eff4867071e}
Inserts the domain into the database with its associated menus and menu items.

T\-H\-I\-S W\-I\-L\-L D\-E\-L\-E\-T\-E T\-H\-E C\-U\-R\-R\-E\-N\-T D\-O\-M\-A\-I\-N A\-N\-D C\-U\-R\-R\-E\-N\-T M\-E\-N\-U\-S F\-R\-O\-M T\-H\-E D\-A\-T\-A\-B\-A\-S\-E.

The passed array is very specific. It is the structure as the returned array from get\-Ranked\-Menus\-From\-Many\-U\-R\-Ls(...). The follows as\-:

Array\mbox{[}url\mbox{]} -\/$>$ 'score' =$>$ 12 -\/$>$ 'items' =$>$ Array -\/$>$ 'label' -\/$>$ 'url'


\begin{DoxyParams}[1]{Parameters}
array & {\em \$domain\-Info} & Array of domains and their associated menus. See main description for format. \\
\hline
\end{DoxyParams}
\hypertarget{classMenuGrabber_acbbe3d83251aa6f0f5c1d5a073818f4a}{\index{Menu\-Grabber@{Menu\-Grabber}!retrieve\-Domain\-Menus\-From\-Database@{retrieve\-Domain\-Menus\-From\-Database}}
\index{retrieve\-Domain\-Menus\-From\-Database@{retrieve\-Domain\-Menus\-From\-Database}!MenuGrabber@{Menu\-Grabber}}
\subsubsection[{retrieve\-Domain\-Menus\-From\-Database}]{\setlength{\rightskip}{0pt plus 5cm}Menu\-Grabber\-::retrieve\-Domain\-Menus\-From\-Database (
\begin{DoxyParamCaption}
\item[{}]{\$domain}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classMenuGrabber_acbbe3d83251aa6f0f5c1d5a073818f4a}
Returns a list of ranked possible menus sorted from highest score to lowest out of the database.

The returned object consists of an array of associated arrays with two keys\-: 'score' pointing to the numeric score of the menu and 'items' for the menu itself. The 'items' points to an array of items. Each item is an associative array as 'label' pointing to an individual label and 'url' pointing to that label's link.

Array-\/$>$ 'score' =$>$ 12 -\/$>$ 'items' =$>$ Array -\/$>$ 'label' -\/$>$ 'url'

On failure, N\-U\-L\-L is returned.


\begin{DoxyParams}{Parameters}
{\em string} & domain Domain to get menu for \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em mixed} & Array of ranked menus or empty array on failure \\
\hline
\end{DoxyRetVals}
\hypertarget{classMenuGrabber_a0fa3d0bdd671df3fe2b3c18907a7a1a1}{\index{Menu\-Grabber@{Menu\-Grabber}!retrieve\-Many\-Domain\-Menus\-From\-Database@{retrieve\-Many\-Domain\-Menus\-From\-Database}}
\index{retrieve\-Many\-Domain\-Menus\-From\-Database@{retrieve\-Many\-Domain\-Menus\-From\-Database}!MenuGrabber@{Menu\-Grabber}}
\subsubsection[{retrieve\-Many\-Domain\-Menus\-From\-Database}]{\setlength{\rightskip}{0pt plus 5cm}Menu\-Grabber\-::retrieve\-Many\-Domain\-Menus\-From\-Database (
\begin{DoxyParamCaption}
\item[{}]{\$domains}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}}}\label{classMenuGrabber_a0fa3d0bdd671df3fe2b3c18907a7a1a1}
Returns a list of ranked menus sorted from highest score to lowest from multiple domains out of the database.

The returned array consists for each key of associated arrays with two keys\-: 'score' pointing to the numeric score of the menu and 'items' for the menu itself. The 'items' points to an array of items. Each item is an associative array as 'label' pointing to an individual label and 'url' pointing to that label's link.

The key of the top-\/most array is the U\-R\-L string.

Array\mbox{[}url\mbox{]} -\/$>$ 'score' =$>$ 12 -\/$>$ 'items' =$>$ Array -\/$>$ 'label' -\/$>$ 'url'

On failure, an empty array is return.


\begin{DoxyParams}[1]{Parameters}
array & {\em \$domains} & Domains to get menus from \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em mixed} & Array of ranked menus or empty array on failure \\
\hline
\end{DoxyRetVals}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
frontend/class.\-Menu\-Grabber.\-php\end{DoxyCompactItemize}
